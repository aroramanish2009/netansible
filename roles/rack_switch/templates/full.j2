
!Command: Checkpoint cmd vdc 1
!Time: Fri Xxx xx xx:xx:xx xxxx

version 7.0(3)I7(9) Bios:version
hostname {{ host_name }}
class-map type network-qos c-nq1
  description Default class on qos-group 1
match qos-group 1
class-map type network-qos c-nq2
  description Default class on qos-group 2
match qos-group 2
class-map type network-qos c-nq3
  description Default class on qos-group 3
match qos-group 3
class-map type network-qos c-8q-nq1
  description Default class on qos-group 1
match qos-group 1
class-map type network-qos c-8q-nq2
  description Default class on qos-group 2
match qos-group 2
class-map type network-qos c-8q-nq3
  description Default class on qos-group 3
match qos-group 3
class-map type network-qos c-8q-nq4
  description Default class on qos-group 4
match qos-group 4
class-map type network-qos c-8q-nq5
  description Default class on qos-group 5
match qos-group 5
class-map type network-qos c-8q-nq6
  description Default class on qos-group 6
match qos-group 6
class-map type network-qos c-8q-nq7
  description Default class on qos-group 7
match qos-group 7
class-map type network-qos c-nq-default
  description Default class on qos-group 0
match qos-group 0
class-map type network-qos c-8q-nq-default
  description Default class on qos-group 0
match qos-group 0
policy-map type network-qos default-nq-policy
  class type network-qos c-nq3
    mtu 1500
  class type network-qos c-nq2
    mtu 1500
  class type network-qos c-nq1
    mtu 1500
  class type network-qos c-nq-default
    mtu 1500
policy-map type network-qos default-8q-nq-policy
  class type network-qos c-8q-nq7
    mtu 1500
  class type network-qos c-8q-nq6
    mtu 1500
  class type network-qos c-8q-nq5
    mtu 1500
  class type network-qos c-8q-nq4
    mtu 1500
  class type network-qos c-8q-nq3
    mtu 1500
  class type network-qos c-8q-nq2
    mtu 1500
  class type network-qos c-8q-nq1
    mtu 1500
  class type network-qos c-8q-nq-default
    mtu 1500
vdc {{ host_name }} id 1
  limit-resource vlan minimum 16 maximum 4094
  limit-resource vrf minimum 2 maximum 4096
  limit-resource port-channel minimum 0 maximum 511
  limit-resource u4route-mem minimum 248 maximum 248
  limit-resource u6route-mem minimum 96 maximum 96
  limit-resource m4route-mem minimum 58 maximum 58
  limit-resource m6route-mem minimum 8 maximum 8
feature nxapi
feature scp-server
feature ospf
!#feature ssh
!#ssh key rsa 1024

role name priv-15
  description This is a system defined privilege role.
  rule 1 permit read-write
role name priv-14
  description This is a system defined privilege role.
  rule 1 permit read-write
role name priv-13
  description This is a system defined privilege role.
role name priv-12
  description This is a system defined privilege role.
role name priv-11
  description This is a system defined privilege role.
role name priv-10
  description This is a system defined privilege role.
role name priv-9
  description This is a system defined privilege role.
role name priv-8
  description This is a system defined privilege role.
role name priv-7
  description This is a system defined privilege role.
role name priv-6
  description This is a system defined privilege role.
role name priv-5
  description This is a system defined privilege role.
role name priv-4
  description This is a system defined privilege role.
role name priv-3
  description This is a system defined privilege role.
role name priv-2
  description This is a system defined privilege role.
role name priv-1
  description This is a system defined privilege role.
role name priv-0
  description This is a system defined privilege role.
  rule 10 permit command traceroute6 *
  rule 9 permit command traceroute *
  rule 8 permit command telnet6 *
  rule 7 permit command telnet *
  rule 6 permit command ping6 *
  rule 5 permit command ping *
  rule 4 permit command ssh6 *
  rule 3 permit command ssh *
  rule 2 permit command enable *
  rule 1 permit read
username admin password 5 $5$0IEdPj1S$F/syRf7yq97lZTDdv57PJRczi.esycmm3GzOxIO2G7B  role network-admin
username ansible password 5 $5$P8z4ClHX$KyB/YcRpJwxNmAC/pj0fUaYOwOqcKv7hONaVHNSqe1C  role network-admin
ip domain-lookup
!# qos statistics
!# class-map type queuing match-any c-out-q3
!# match qos-group 3
!# class-map type queuing match-any c-out-q2
!# match qos-group 2
!# class-map type queuing match-any c-out-q1
!# match qos-group 1
!# class-map type queuing match-any c-out-q-default
!# match qos-group 0
!# class-map type queuing match-any c-out-8q-q7
!# match qos-group 7
!# class-map type queuing match-any c-out-8q-q6
!# match qos-group 6
!# class-map type queuing match-any c-out-8q-q5
!# match qos-group 5
!# class-map type queuing match-any c-out-8q-q4
!# match qos-group 4
!# class-map type queuing match-any c-out-8q-q3
!# match qos-group 3
!# class-map type queuing match-any c-out-8q-q2
!# match qos-group 2
!# class-map type queuing match-any c-out-8q-q1
!# match qos-group 1
!# class-map type queuing match-any c-out-8q-q-default
!# match qos-group 0
!# class-map type queuing match-any c-in-q7
!# match qos-group 7
!# class-map type queuing match-any c-in-q6
!# match qos-group 6
!# class-map type queuing match-any c-in-q5
!# match qos-group 5
!# class-map type queuing match-any c-in-q4
!# match qos-group 4
!# class-map type queuing match-any c-in-q3
!# match qos-group 3
!# class-map type queuing match-any c-in-q2
!# match qos-group 2
!# class-map type queuing match-any c-in-q1
!# match qos-group 1
!# class-map type queuing match-any c-in-q-default
!# match qos-group 0
policy-map type queuing default-out-policy
  class type queuing c-out-q3
    priority level 1
  class type queuing c-out-q2
    bandwidth remaining percent 0
  class type queuing c-out-q1
    bandwidth remaining percent 0
  class type queuing c-out-q-default
    bandwidth remaining percent 100
policy-map type queuing default-8q-out-policy
  class type queuing c-out-8q-q7
    priority level 1
  class type queuing c-out-8q-q6
    bandwidth remaining percent 0
  class type queuing c-out-8q-q5
    bandwidth remaining percent 0
  class type queuing c-out-8q-q4
    bandwidth remaining percent 0
  class type queuing c-out-8q-q3
    bandwidth remaining percent 0
  class type queuing c-out-8q-q2
    bandwidth remaining percent 0
  class type queuing c-out-8q-q1
    bandwidth remaining percent 0
  class type queuing c-out-8q-q-default
    bandwidth remaining percent 100
copp profile strict
snmp-server user admin network-admin auth md5 0xd28845f6f56c088fa1c964a14f59c9e7 priv 0xd28845f6f56c088fa1c964a14f59c9e7 localizedkey
snmp-server user ansible network-admin auth md5 0x77079785fecb266c763bc477ca576353 priv 0x77079785fecb266c763bc477ca576353 localizedkey
rmon event 1 description FATAL(1) owner PMON@FATAL
rmon event 2 description CRITICAL(2) owner PMON@CRITICAL
rmon event 3 description ERROR(3) owner PMON@ERROR
rmon event 4 description WARNING(4) owner PMON@WARNING
rmon event 5 description INFORMATION(5) owner PMON@INFO
callhome
  !#destination-profile CiscoTAC-1 message-level 0
  !#destination-profile CiscoTAC-1 message-size 5000000
  !#destination-profile full_txt message-level 0
  !#destination-profile full_txt message-size 2500000
  !#destination-profile short_txt message-level 0
  !#destination-profile short_txt message-size 4000
  !#periodic-inventory notification interval 7
  !#periodic-inventory notification timeofday 08:00

vlan 1

vrf context management
  ip route 0.0.0.0/0 192.168.250.1
no nxapi http
nxapi https port 443
no nxapi ssl ciphers weak
nxapi ssl protocols TLSv1.1 TLSv1.2

interface Ethernet1/1
  no switchport
  ip address 10.10.10.1/30
  ip router ospf 100 area 0.0.0.0
  no shutdown

{% for i in range(128) %}
{% if i >= 2 %}
interface Ethernet1/{{ i }}
  !#switchport
  switchport mode access
  !#switchport trunk allowed vlan 1-4094
  !#no shutdown
{% endif %}
{% endfor %}


interface mgmt0
  description {{ mgmt_description }}
  vrf member management
  ip address 192.168.250.11/24

interface loopback0
  description TEST
  ip address 1.1.1.1/32
  ip ospf network point-to-point
  ip router ospf 100 area 0.0.0.0
  !#no shutdown
line console
line vty
boot nxos bootflash:/nxos.7.0.3.I7.9.bin
router ospf 100
  router-id 1.1.1.1
xml server timeout 1200

no priority-flow-control override-interface mode off

!#logging logfile messages 5 size 4194304
!#logging monitor
!#logging module
!#logging console
